<style type="text/css">
<!--
.style1 {color: #FFFFFF}
-->
</style>

<p></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px">Pymel makes python scripting with Maya  the way it should be-- flexible, concise, and object-oriented. Pymel builds on the maya.cmds module by organizing many of its commands into a class hierarchy, and by customizing them to operate in a more succinct and intuitive way.</p>
<p><br />
</p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px">Compatible with both maya8.5 and maya2008<br />
</p>
<h2>Project Goals</h2>
<li>Create a python module for maya that is intuitive to mel users and python users alike</li>
<li>Fix Bugs and design limitations in maya.cmds<br />
</li>
<li>Provide documentation accessible via html and the builtin help() function<br />
</li>
<li>Add organization through class hierarchy and sub-modules<br />
</li>
<li>Keep code concise by reducing syntax and providing intelligent defaults<br />
</li>
<li>Make it &quot;just work&quot;</p>
</li><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px"><br />
</p>
<h2>Powerful new classes</h2>
<p><strong>Node classes</strong>&nbsp;for nearly every major DAG object </p>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc">
  <p><font face="courier new,courier,monospace">camTrans, cam = camera()</font><font face="courier new,courier,monospace"><br>
    cam.setFocalLength(100)
        <br />
  cam.getFov()<br />
  # Result: 20.4079476169<br />
  cam.dolly( distance = -3 )<br />
  cam.track(left=10)<br />
  cam.addBookmark('new')</font></p>
</div>
<p>An&nbsp;<strong>Attribute class</strong>&nbsp;organizes all the attribute commands in one place</p>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><font face="courier new,courier,monospace">if s.visibility.isKeyable() and not s.visibility.isLocked():<br />
  &nbsp;&nbsp;&nbsp; s.visibility = True<br>
  &nbsp;&nbsp;&nbsp; s.visibility.lock()<br>
  &nbsp;&nbsp;&nbsp; print s.visibility.type()<br>
</font></div>

  <p>Slice and dice your&nbsp;<strong>file paths</strong>&nbsp;with ease </p>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><font face="courier new,courier,monospace">#backup all mb files in the current scene's directory<br>
  basedir = sceneName().parent<br>
  backupDir = basedir / &quot;backup&quot; #slash op joins paths<br>
  backupDir.mkdir()<br>
  for file in basedir.files( '*.mb' ):<br>
  &nbsp;&nbsp;&nbsp; print &quot;backing up: &quot;, file.name<br>
  &nbsp;&nbsp;&nbsp; file.copy( backupDir / (file.namebase + &quot;.old&quot;) )<br>
</font></div>
<p>Work with sub-components, perform&nbsp;<strong>vector math</strong>, convert between spaces, and easily set object attributes with the results</p>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><font face="courier new,courier,monospace">#select all faces that point up in world space<br />
  s = polySphere()[0]<br />
  for face in s.faces:<br />
  &nbsp;&nbsp;&nbsp; if face.normal.objectToWorld(s).y &gt; 0.0:<br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; select( face, add=1)</font></div>
<p>Manage&nbsp;<strong>optionVars as a python dictionary</strong></p>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><font face="courier new,courier,monospace">if 'numbers' not in env.optionVars:</font><font face="courier new,courier,monospace"><br />
  &nbsp;&nbsp;&nbsp; env.optionVars['numbers'] = [1,24,47]<br />
  env.optionVars['numbers'].append(9)<br />
  numArray = env.optionVars.pop('numbers')</font></div>
<h2>Do More with Less Code</h2>
<p><strong>Customized operators</strong>&nbsp;for succinct scripting  </p>
<p>Call Mel procedures as if they were python commands:&nbsp;<strong>no more annoying string formatting</strong> </p>
<p><font face="courier new,courier,monospace"><br>
</font></p>
<p>Enhanced Commands with&nbsp;<strong>intelligent defaults and new flags</strong></p>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><font face="courier new,courier,monospace">#list conn's  in pairs, with the source always first<br>
  for source, dest in s.connections( connections=1, sourceFirst=1):<br>
  &nbsp;&nbsp;&nbsp; source &lt;&gt; dest <br>
  <br>
  #set the attr. create if it does not exist, set based on input<br>
  s.inputList.set( s.inputs(), force=1) <br>
</font></div>
<p>&nbsp;</p>
<h2>Includes Tools to Ease Your Transition to Python
</h2>
<ul>
<li><strong>mel-to-python translator</strong>&nbsp;for converting mel script into python scripts</li>
<li><strong>python-to-mel plugin factory</strong>&nbsp;for turning python classes into mel commands</li>
</ul>
<h2><br /> 
Code Comparison
<br />
</h2>
<table width="530" border="0" cellpadding="5" cellspacing="5" bgcolor="#5E7D92">
  <tr>
    <th height="28" scope="col"><div align="left" class="style1">
      <div align="center">MEL</div>
    </div></th>
  </tr>
</table>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><br />
<font face="courier new,courier,monospace">string $objs[] = `ls -type transform`;<br />
for ($x in $objs) {<br />
&nbsp;&nbsp;&nbsp; print (longNameOf($x)); print &quot;n&quot;;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<br />
&nbsp;&nbsp;&nbsp; // make and break some connections<br />
&nbsp;&nbsp;&nbsp; connectAttr( $x + &quot;.sx&quot;) ($x + &quot;.sy&quot;);<br />
&nbsp;&nbsp;&nbsp; connectAttr( $x + &quot;.sx&quot;) ($x + &quot;.sz&quot;);<br />
&nbsp;&nbsp;&nbsp; disconnectAttr( $x + &quot;.sx&quot;) ($x + &quot;.sy&quot;);<br />
&nbsp;&nbsp;&nbsp; string $conn[] = `listConnections -s 0 -d 1 -p 1 ($x + &quot;.sx&quot;)`;<br />
&nbsp;&nbsp;&nbsp; for ($inputPlug in $conn)<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; disconnectAttr ($x + &quot;.sx&quot;) $inputPlug;<br />
<br />
&nbsp;&nbsp;&nbsp; // add and set a string array attribute<br />
&nbsp;&nbsp;&nbsp; // with the history of this transform's shape<br />
&nbsp;&nbsp;&nbsp; if ( !`attributeExists &quot;newAt&quot; $x`)<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; addAttr -ln newAt -dataType stringArray $x;<br />
&nbsp;&nbsp;&nbsp; string $shape[] = `listRelatives -s $x`;<br />
&nbsp;&nbsp;&nbsp; string $history[] = `listHistory $shape[0]`;<br />
&nbsp;&nbsp;&nbsp; string $elements = &quot;&quot;;<br />
&nbsp;&nbsp;&nbsp; for ($elem in $history)&nbsp;<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; $elements += &quot;&quot;&quot; + $elem + &quot;&quot; &quot;;<br />
&nbsp;&nbsp;&nbsp; eval (&quot;setAttr -type stringArray &quot; + $x + &quot;.newAt &quot; + `size $history` + $elements);<br />
&nbsp;&nbsp;&nbsp; print `getAttr ( $x + &quot;.newAt&quot; )`;<br />
<br />
&nbsp;&nbsp;&nbsp; // get and set some attributes<br />
&nbsp;&nbsp;&nbsp; setAttr ($x + &quot;.rotate&quot;) 1 1 1;<br />
&nbsp;&nbsp;&nbsp; float $trans[] = `getAttr ($x + &quot;.translate&quot;)`;<br />
&nbsp;&nbsp;&nbsp; float $scale[] = `getAttr ($x + &quot;.scale&quot;)`;<br />
&nbsp;&nbsp;&nbsp; $trans[0] *= $scale[0];<br />
&nbsp;&nbsp;&nbsp; $trans[1] *= $scale[1];<br />
&nbsp;&nbsp;&nbsp; $trans[2] *= $scale[2];<br />
&nbsp;&nbsp;&nbsp; setAttr ($x + &quot;.scale&quot;) $trans[0] $trans[1] $trans[2];&nbsp;&nbsp;&nbsp;&nbsp;<br />
<br />
&nbsp;&nbsp;&nbsp; // call some other scripts&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; myMelScript( `nodeType $x`, $trans );<br />
}<br />
</font></div><br />
<br />
<table width="530" border="0" cellpadding="5" cellspacing="5" bgcolor="#5E7D92">
  <tr>
    <th scope="col"><div align="left" class="style1">
      <div align="center">Default Python</div>
    </div></th>
  </tr>
</table>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><br />
<font face="courier new,courier,monospace">import maya.cmds as cmds<br />
import maya.mel as mm<br />
objs = cmds.ls( type= 'transform')&nbsp;<br />
if objs is not None:&nbsp;&nbsp;&nbsp;&nbsp; # returns None when it finds no matches<br />
&nbsp;&nbsp;&nbsp; for x in objs:<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; print mm.eval('longNameOf(&quot;%s&quot;)' % x)<br />
<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # make and break some connections<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.connectAttr(&nbsp;&nbsp; '%s.sx' % x,&nbsp; '%s.sy' % x )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.connectAttr(&nbsp;&nbsp; '%s.sx' % x,&nbsp; '%s.sz' % x )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.disconnectAttr( '%s.sx' % x,&nbsp; '%s.sy' % x)<br />
<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; conn = cmds.listConnections( x + &quot;.sx&quot;, s=0, d=1, p=1)<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # returns None when it finds no matches<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if conn is not None:&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for inputPlug in conn:<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.disconnectAttr( x + &quot;.sx&quot;, inputPlug )<br />
<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # add and set a string array attribute&nbsp;<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # with the history of this transform's shape<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if not mm.eval( 'attributeExists &quot;newAt&quot; &quot;%s&quot;' % x):&nbsp;<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.addAttr(&nbsp; x, ln='newAt', dataType='stringArray')<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; shape = cmds.listRelatives( x, s=1 )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; history = cmds.listHistory( shape[0] )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; args = tuple( ['%s.newAt' % x, len(history)] + history )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.setAttr( *args ,&nbsp; **{ 'type' : 'stringArray' } )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; print cmds.getAttr ( x + &quot;.newAt&quot; )<br />
<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # get and set some attributes<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.setAttr ( '%s.rotate' % x, 1,&nbsp; 1, 1 )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; scale = cmds.getAttr ( '%s.scale' % x )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; scale = scale[0] # maya packs the previous result in a list for no apparent reason<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; trans = list( cmds.getAttr ( '%s.translate' % x )[0] )&nbsp; # the tuple must be converted to a list for item assignment<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; trans[0] *= scale[0]<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; trans[1] *= scale[1]<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; trans[2] *= scale[2]<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cmds.setAttr ( '%s.scale' % x, trans[0], trans[1], trans[2] )<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; mm.eval('myMelScript(&quot;%s&quot;,{%s,%s,%s})' % (cmds.nodeType(x), trans[0], trans[1], trans[2]) )</font><font face="courier new,courier,monospace"><br />
</font></div><br />
<br />
<table width="530" border="0" cellpadding="5" cellspacing="5" bgcolor="#5E7D92">
  <tr>
    <th scope="col"><div align="left" class="style1">
      <div align="center">Pymel</div>
    </div></th>
  </tr>
</table>
<div class="codebox" style="background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: #e4efff; border-top-style: dashed; border-right-style: dashed; border-bottom-style: dashed; border-left-style: dashed; color: #385a72; margin-left: 5px; font-size: 12px; width: 500px; height: auto; overflow-x: auto; overflow-y: visible; padding-top: 10px; padding-right: 10px; padding-bottom: 20px; padding-left: 10px; border-width: 1px; border-color: #aabbcc"><font face="verdana,arial,helvetica,sans-serif"><br />
</font><font face="courier new,courier,monospace">from pymel import *&nbsp;&nbsp; # safe to import into main namespace<br />
for x in ls( type='transform'):<br />
&nbsp;&nbsp;&nbsp; print x.longName()&nbsp;&nbsp; # object oriented design<br />
<br />
&nbsp;&nbsp;&nbsp; # make and break some connections<br />
&nbsp;&nbsp;&nbsp; x.sx &gt;&gt; x.sy&nbsp; # connection operator&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; x.sx &gt;&gt; x.sz&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; x.sx &lt;&gt; x.sy&nbsp; # disconnection operator<br />
&nbsp;&nbsp;&nbsp; x.sx.disconnect() # smarter methods (no args = disconnect all)<br />
<br />
&nbsp;&nbsp;&nbsp; # add and set a string array attribute<br />
&nbsp;&nbsp;&nbsp; # with the history of this transform's shape<br />
&nbsp;&nbsp;&nbsp; if not x.newAt.exists():<br />
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; x.newAt.add( dataType='stringArray')<br />
&nbsp;&nbsp;&nbsp; x.newAt = x.getShape().history()<br />
<br />
&nbsp;&nbsp;&nbsp; # get and set some attributes<br />
&nbsp;&nbsp;&nbsp; x.rotate =&nbsp; [1,1,1]&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; trans = x._translate.get()<br />
&nbsp;&nbsp;&nbsp; trans *= x.scale.get()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # vector math<br />
&nbsp;&nbsp;&nbsp; x._translate = trans&nbsp;&nbsp;&nbsp;&nbsp; # ability to pass list/vector args<br />
&nbsp;&nbsp;&nbsp; mel.myMelScript( x.type(), trans) # automatic handling of mel commands<br />
</font></div><br />
<br />
there's a reason why python is rapidly becoming the industry stanadard. with pymel, python and maya finally play well together.....<br />
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px">&nbsp;</p>
<p>&nbsp;</p>
